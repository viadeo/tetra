<p class="h3">Define a model</p>

<pre>
tetra.model.register(name, Object)
</pre>

<p class="description">
<b>name</b> : The name of the model. It must be the same of the file name.
<b>Object</b> : This object describes models attributes, validation methods and routes.
</p>
<span class="subtitle">Model description</span>

<pre>
{  
   req : {},  
   attr : {},  
   methods : {}  
}
</pre>

<span class="subtitle">Parameters</span>

<p class="description">
<b>req</b> : For request settings : routes for accessing server-side objects.<br>
<b>attr</b> : (mandatory) Object listing all attributes of the class with their default value. They are all private.<br>
<b>methods</b> : Contains custom and reserved methods.
</p>

<span class="subtitle">req parameter</span>

<pre>
{  
    save : {  
        params: {  
             action: 'addInterest'  
        }  
    },  
    fetch : {  
        url: '/path/to/{0}/{1}',  
        uriParams: ['test', 'var'],  
        method: 'POST',  
        params: {  
            action: 'getInterest'  
        },  
        parser: function(resp, col, cond) {   
            return col;  
        }  
    },  
    del : {  
        params: {  
            action: 'deleteInterest'  
        }  
    }  
}
</pre>

<p class="description">
This attribute is not mandatory if you use default settings.<br>

There's simple call types for each actions :<br>

<b>save</b> : settings used when calling save() method through ORM.<br>
<b>fetch</b> : settings used when calling fetch() method through ORM.<br>
<b>del</b> : settings used when calling del() method through ORM.<br>
<b>reset</b> : settings used when calling reset() method through ORM.
</p>

<p class="description">
Here are the settings you can set for each call type :<br>

<b>url</b>: default pattern is "/javascript/coremvc/model/modelName/callType.json" but you can override it using this setting.<br>
<b>uriParams</b>: name of a condition or an attribute of the object that must replace a var in the url pattern. For example: "/path/to/{0}/{1}" with uriParams = ['test', 'var'] will replace {0} by cond.test or attr.test and {1} with cond.var or attr.var.<br>
<b>methods</b>: "GET" or "POST" (by default : fetch is set to "GET", save and del are set to “POST”).<br>
<b>params</b>: a javascript object listing all constant parameters with their value used in a specific call type.<br>
<b>parser</b>: if the response of a fetch call doesn’t fit the Standard JSON Format, you have to define this function. You receive in arguments the ajax response (resp), an empty object (col) and the request conditions (cond). With this information, you must fill the col object using a key/value structure. The key must be unique and the value is an object similar to the attr object of the model (same attribute names).
</p>

<span class="subtitle">Methods</span>

<p class="description">All model created vie core.model.register inherit of default methods that allow access to the underlying collection.
default methods (implemented in core)</p>

<p class="description">
<b>get(attrName)</b> : get an attribute<br>
<b>getAll()</b> : get all attributes<br>
<b>set(attrName, value)</b> : set an attribute with a value<br>
<b>update(attributes)</b> : set attributes with values listed in the passed object<br>
<b>revert()</b> : revert data to last saved state. Automatically called when a save call failed.<br>
<b>save()</b> : save the object on server<br>
<b>remove()</b> : remove the object locally and on server.<br>

<span class="subtitle">reserved methods (optional and implemented in class by you)</span><br>

<b>init()</b> : call when an object is constructed<br>
<b>validate()</b> : call before saving data on server<br>
</p>